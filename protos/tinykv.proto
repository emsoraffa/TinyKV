syntax = "proto3";

package tinykv;

service TinyKV {
  rpc Ping (PingRequest) returns (PingResponse) {}
  rpc Put (PutRequest) returns (PutResponse) {}
  rpc Get (GetRequest) returns (GetResponse) {}
}

// MESSAGES

message PingRequest {
  string sender_id = 1;
} 

message PingResponse {
  bool is_ready = 1;
}

message PutRequest {
  string key = 1;
  string val = 2;
  string sender_id = 3;
  int32 replication_factor = 4;
  int64 timestamp = 5;
}

message PutResponse {
  bool operation_success = 1;
}

message GetRequest {
  string key = 1;
  string sender_id = 2;
}

message GetResponse {
  string val = 1;
  bool operation_success = 2;
}
